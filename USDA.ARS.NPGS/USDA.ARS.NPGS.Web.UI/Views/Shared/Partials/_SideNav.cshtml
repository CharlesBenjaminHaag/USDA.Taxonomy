<style>
    .toggle-wrapper {
        display: flex;
        align-items: flex-start;
        gap: 0.5em; /* spacing between icon and text */
    }

    .toggle-icon {
        flex-shrink: 0; /* prevent icon from shrinking */
        width: 1em; /* fixed width to align with other items if needed */
        text-align: center;
    }

    .toggle-text {
        word-break: break-word;
    }

    /* Optional: cursor and transition for UX */
    #toggle-technical-resources {
        cursor: pointer;
    }
</style>


<nav aria-label="Secondary navigation">
    <ul class="usa-sidenav">
        <li class="usa-sidenav__item"><a href="@Url.Action("Index","Home")">Home</a></li>
        <li class="usa-sidenav__item">
            <a href="#" id="toggle-npgs" class="usa-menu-toggle"><strong>Plants (NPGS)</strong></a>
            <ul id="submenu-npgs" class="usa-sidenav__sublist" ">
                <li class="usa-sidenav__item">
                    <a href="@Url.Action("NPGS","Pages")">Overview</a>
                </li>
                <li class="usa-sidenav__item">
                    <a href="https://www.ars.usda.gov/crop-production-and-protection/plant-genetic-resources-genomics-and-genetic-improvement/docs/npgs-plan/" target="_blank">NPGS Strategic Plan ↗</a>
                </li>
                @*<li class="usa-sidenav__item"><a href="@Url.Action("Index","NPGS", new { @context="crop-summaries"})">NPGS Crop Summaries</a></li>*@
                <li class="usa-sidenav__item"><a href="@Url.Action("Directory","Pages", new { @context="directory"})">NPGS Directory</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("Citations","Pages", new { @context="citing-the-npgs"})">Citing the NPGS</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("GRINGlobal","Pages", new { @context="grin-global"})">GRIN-Global</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("Education","Pages", new { @context="educational-resources"})" target="_blank">GRIN-U Education</a></li>

                @*<li class="usa-sidenav__item"><a href="https://www.ars.usda.gov/northeast-area/beltsville-md-barc/beltsville-agricultural-research-center/national-germplasm-resources-laboratory/docs/plant-inventory-books/" target="_blank">Plant Inventory Books</a></li>
                    <li class="usa-sidenav__item"><a href="@Url.Action("Index","Rhizobium")">Rhizobium</a></li>
                    <li class="usa-sidenav__item"><a href="#">Operations Manual</a></li>*@
            </ul>
        </li>
        <li class="usa-sidenav__item">
            <a href="#" id="toggle-microbes"><strong>Microbes</strong></a>
            <ul id="submenu-microbes" class="usa-sidenav__sublist microbes" style="display:block;">
                <li class="usa-sidenav__item"><a href="@Url.Action("Microbes","Pages", new { @context="microbial-collections"})">Overview</a></li>
                <li class="usa-sidenav__item">
                    <a href="@Url.Action("Index","Rhizobium")">
                        <span>Rhizobium</span>
                    </a>
                </li>
            </ul>
        </li>
        <li class="usa-sidenav__item">
            <a href="#" id="toggle-technical-resources"><span id="technical-resources-icon">−</span><strong class="toggle-wrapper">Technical Resources</strong></a>
            <ul id="submenu-technical-resources" class="usa-sidenav__sublist technical-resources" style="display:block;">
                <li class="usa-sidenav__item"><a href="@Url.Action("Index","NPGS", new { @context="technical-resources"})">Overview</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("Index","CGC")">Crop Germplasm Committees</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("Index","PVP")">Plant Variety Protection</a></li>
                <li class="usa-sidenav__item"><a href="@Url.Action("Index","Rhizobium")">Rhizobium</a></li>
                <li class="usa-sidenav__item"><a class="usa-sidenav__item_link_external" href="https://www.ars.usda.gov/northeast-area/beltsville-md-barc/beltsville-agricultural-research-center/national-germplasm-resources-laboratory/docs/plant-inventory-books/" target="_blank">Plant Inventory Books ↗</a></li>
                <li class="usa-sidenav__item"><a class="usa-sidenav__item_link_external" href="https://biocollections.ars.usda.gov/" target="_blank">ARS Biocollections Portal ↗</a></li>

                @*<li class="usa-sidenav__item"><a href="#">Operations Manual</a></li>*@
            </ul>
        </li>
    </ul>

    <div class="usa-accordion">
        <h4 class="usa-accordion__heading">
            <button type="button" class="usa-accordion__button" aria-expanded="true" aria-controls="a1">
                MENU
            </button>
        </h4>
        <div id="a1" class="usa-accordion__content usa-prose">
            <p>
                MENU
            </p>
        </div>
        <h4 class="usa-accordion__heading">
            <button type="button" class="usa-accordion__button" aria-expanded="false" aria-controls="a2">
                MENU
            </button>
        </h4>
        <div id="a2" class="usa-accordion__content usa-prose" hidden="">
            <p>
                MENU
            </p>
            <ul>
                <li>MENU</li>
                <li>MENU</li>
            </ul>
        </div>
        <h4 class="usa-accordion__heading">
            <button type="button" class="usa-accordion__button" aria-expanded="false" aria-controls="a3">
                Third Amendment
            </button>
        </h4>
        <div id="a3" class="usa-accordion__content usa-prose" hidden="">
            <p>
                No Soldier shall, in time of peace be quartered in any house, without the
                consent of the Owner, nor in time of war, but in a manner to be prescribed
                by law.
            </p>
        </div>
        <h4 class="usa-accordion__heading">
            <button type="button" class="usa-accordion__button" aria-expanded="false" aria-controls="a4">
                Fourth Amendment
            </button>
        </h4>
        <div id="a4" class="usa-accordion__content usa-prose" hidden="">
            <p>
                The right of the people to be secure in their persons, houses, papers, and
                effects, against unreasonable searches and seizures, shall not be
                violated, and no Warrants shall issue, but upon probable cause, supported
                by Oath or affirmation, and particularly describing the place to be
                searched, and the persons or things to be seized.
            </p>
        </div>
        <h4 class="usa-accordion__heading">
            <button type="button" class="usa-accordion__button" aria-expanded="false" aria-controls="a5">
                Fifth Amendment
            </button>
        </h4>
        <div id="a5" class="usa-accordion__content usa-prose" hidden="">
            <p>
                No person shall be held to answer for a capital, or otherwise infamous
                crime, unless on a presentment or indictment of a Grand Jury, except in
                cases arising in the land or naval forces, or in the Militia, when in
                actual service in time of War or public danger; nor shall any person be
                subject for the same offence to be twice put in jeopardy of life or limb;
                nor shall be compelled in any criminal case to be a witness against
                himself, nor be deprived of life, liberty, or property, without due
                process of law; nor shall private property be taken for public use,
                without just compensation.
            </p>
        </div>
    </div>


</nav>
<script type="text/javascript">

    
        document.addEventListener("DOMContentLoaded", function () {
        const toggleLink = document.getElementById("toggle-technical-resources");
        const submenu = document.getElementById("submenu-technical-resources");
        const icon = document.getElementById("technical-resources-icon");

        toggleLink.addEventListener("click", function (e) {
            e.preventDefault();
        const isVisible = submenu.style.display === "block";
        submenu.style.display = isVisible ? "none" : "block";
        icon.textContent = isVisible ? "+" : "−";
        });
    });
 


    // Select the toggle link by its ID
    //document.getElementById('toggle-technical-resources').addEventListener('click', function (event) {
    //    event.preventDefault(); // Prevent the default link behavior

    //    // Select the submenu by its ID and toggle its visibility
    //    const submenu = document.getElementById('submenu-technical-resources');
        
    //    if (submenu.style.display === 'none' || submenu.style.display === '') {
    //        submenu.style.display = 'block'; // Show the submenu
    //    } else {
    //        submenu.style.display = 'none'; // Hide the submenu
    //        // TODO show indicator that menu can be opened
    //        $("#toggle-technical-resources").html()
    //    }
    //});

    //document.getElementById('toggle-npgs').addEventListener('click', function (event) {
    //    event.preventDefault(); // Prevent the default link behavior

    //    // Select the submenu by its ID and toggle its visibility
    //    const submenu = document.getElementById('submenu-npgs');

    //    if (submenu.style.display === 'none' || submenu.style.display === '') {
    //        submenu.style.display = 'block'; // Show the submenu
    //    } else {
    //        submenu.style.display = 'none'; // Hide the submenu
    //    }
    //});
</script>